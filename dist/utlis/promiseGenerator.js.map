{"version":3,"sources":["../../src/utlis/promiseGenerator.js"],"names":["requestPromise","request","successMessage","data","Promise","resolve","reject","onsuccess","successData","property","success","onerror","fail","error","transactionPromise","transaction","oncomplete"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,iBAAiB,SAAjBA,cAAiB,CAACC,OAAD,EAAUC,cAAV,EAA0BC,IAA1B;AAAA,SACrB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/BL,YAAQM,SAAR,GAAoB,YAAM;AACxB,UAAIC,cAAcL,IAAlB;;AAEA,UAAIA,KAAKM,QAAT,EAAmB;AACjBD,sBAAcP,QAAQE,KAAKM,QAAb,CAAd,CADiB,CACqB;AACvC;AACD,oBAAIC,OAAJ,CAAYR,cAAZ;AACAG,cAAQG,WAAR;AACD,KARD;AASAP,YAAQU,OAAR,GAAkB,YAAM;AACtB,oBAAIC,IAAJ,CAASX,QAAQY,KAAjB;AACAP;AACD,KAHD;AAID,GAdD,CADqB;AAAA,CAAvB;;AAiBA,IAAMQ,qBAAqB,SAArBA,kBAAqB,CAACC,WAAD,EAAcb,cAAd,EAA8BC,IAA9B;AAAA,SACzB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/BS,gBAAYC,UAAZ,GAAyB,YAAM;AAC7B,oBAAIN,OAAJ,CAAYR,cAAZ;AACAG,cAAQF,IAAR;AACD,KAHD;AAIAY,gBAAYJ,OAAZ,GAAsB,YAAM;AAC1B,oBAAIC,IAAJ,CAASG,YAAYF,KAArB;AACAP;AACD,KAHD;AAID,GATD,CADyB;AAAA,CAA3B;;kBAYe;AACbL,WAASD,cADI;AAEbe,eAAaD;AAFA,C","file":"promiseGenerator.js","sourcesContent":["import log from './log';\n\nconst requestPromise = (request, successMessage, data) =>\n  new Promise((resolve, reject) => {\n    request.onsuccess = () => {\n      let successData = data;\n\n      if (data.property) {\n        successData = request[data.property]; // for getItem\n      }\n      log.success(successMessage);\n      resolve(successData);\n    };\n    request.onerror = () => {\n      log.fail(request.error);\n      reject();\n    };\n  });\n\nconst transactionPromise = (transaction, successMessage, data) =>\n  new Promise((resolve, reject) => {\n    transaction.oncomplete = () => {\n      log.success(successMessage);\n      resolve(data);\n    };\n    transaction.onerror = () => {\n      log.fail(transaction.error);\n      reject();\n    };\n  });\n\nexport default {\n  request: requestPromise,\n  transaction: transactionPromise,\n};\n"]}